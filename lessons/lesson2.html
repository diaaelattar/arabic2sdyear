<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الدرس الثاني: الجوهرة المصرية - الشهيد محمد أبو شفرة</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="lesson.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- شريط التنقل -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <a href="../index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-shield-alt"></i>
                    <h1>حماية الوطن</h1>
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html"><i class="fas fa-home"></i> الرئيسية</a></li>
                <li><a href="../index.html#lessons"><i class="fas fa-book"></i> الدروس</a></li>
                <li><a href="#exercises"><i class="fas fa-pen"></i> تمارين الدرس</a></li>
                <li><a href="#test"><i class="fas fa-clipboard-check"></i> اختبار الدرس</a></li>
            </ul>
            <div class="lesson-progress-indicator">
                <span>تقدم الدرس:</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="lesson-progress" style="width: 40%;"></div>
                </div>
                <span id="progress-text">40%</span>
            </div>
        </div>
    </nav>

    <!-- محتوى الدرس -->
    <main class="lesson-content">
        <div class="lesson-header">
            <div class="breadcrumb">
                <a href="../index.html">الرئيسية</a> / 
                <a href="../index.html#lessons">الدروس</a> / 
                <span>الدرس الثاني</span>
            </div>
            <h1 class="lesson-title">الجَوْهَرَة المَصْرِيَّة... الشَّهيد مُحَمَّد أَبُو شَفْرَة</h1>
            <div class="lesson-meta">
                <span><i class="fas fa-clock"></i> الوقت المقدر: 60 دقيقة</span>
                <span><i class="fas fa-graduation-cap"></i> الصف: الثاني الإعدادي</span>
                <span><i class="fas fa-user"></i> تحت إشراف: الأستاذة إسلام محمد</span>
            </div>
        </div>

        <!-- نص الدرس -->
        <section class="lesson-text-section">
            <div class="section-header">
                <h2><i class="fas fa-book-open"></i> نص الدرس</h2>
                <button class="audio-btn" id="play-audio">
                    <i class="fas fa-play"></i> استمع للنص
                </button>
            </div>
            
            <div class="text-container">
                <div class="hero-image">
                    <div class="image-placeholder">
                        <i class="fas fa-hero"></i>
                        <p>صورة الشهيد محمد أبو شفرة</p>
                    </div>
                </div>
                
                <div class="arabic-text">
                    <p class="text-paragraph">
                        <span class="highlight">"إِنَّ تَارِيخَ مِصْرَ الْحَدِيثَ حَافِلٌ بِتَمَاذِجَ مُضِيِّةٍ مِنْ أَبْنَاءِ الْوَطَنِ الَّذِينَ آمَنُوا أَنَّ حِمَايَةَ الْأَرْضِ وَصَوْنَ الْكَرَامَةِ أَمْرٌ مُقَدَّسٌ، فَوَهَبُوا حَيَاتَهُمْ دِفَاعًا عَنْ أَمْنِهَا وَاسْتِقْرَارِهَا. وَمِنْ بَيْنَ هَؤُلَاءِ الْأَبْطَالِ يَجِيءُ اسْمُ الشَّهِيدِ الْبَطَلِ مُحَمَّدٍ أَبُو شَفْرَةَ ضَابِطِ الشَّرْطَةِ الْمِصْرِيِّ، الَّذِي قَدَّمَ أَرْوَعَ مَشَاهِدِ الشَّجَاعَةِ وَالتَّضْحِيَةِ فِي مُوَاجَهَةِ قُوَى الْإِرْهَابِ الْفَاسِدَةِ عَلَى أَرْضِ سِينَاءَ الطَّاهِرَةِ."</span>
                    </p>
                    
                    <div class="vocabulary-box">
                        <h4><i class="fas fa-book"></i> مفردات النص:</h4>
                        <div class="vocabulary-grid">
                            <div class="vocab-item">
                                <strong>حَافِلٌ:</strong>
                                <span>مملوء، مليء، زاخر</span>
                                <div class="vocab-example">مثال: التاريخ حافل بالأحداث المهمة</div>
                            </div>
                            <div class="vocab-item">
                                <strong>تَمَاذِجَ:</strong>
                                <span>نماذج، أمثلة</span>
                                <div class="vocab-example">مثال: التماذج المشرفة في تاريخ مصر</div>
                            </div>
                            <div class="vocab-item">
                                <strong>مُضِيِّةٍ:</strong>
                                <span>مشرقة، متألقة</span>
                                <div class="vocab-example">مثال: صفحات مضية في التاريخ</div>
                            </div>
                            <div class="vocab-item">
                                <strong>صَوْنَ:</strong>
                                <span>حفظ، حماية</span>
                                <div class="vocab-example">مثال: صون الكرامة واجب وطني</div>
                            </div>
                        </div>
                    </div>
                    
                    <p class="text-paragraph">
                        وُلِدَ الشَّهيدُ مُحَمَّدٌ أَبُو شَفْرَةَ فِي عَامِ ١٩٨٣م فِي مُحَافَظَةِ الْقُلْيُوبِيَّةِ، وَنَشَأَ فِي بَيْتٍ يُقَدِّرُ الشَّرَفَ وَالْوَاجِبَ. الْتَحَقَ بِكَلِّيَّةِ الشَّرْطَةِ، وَتَخَرَّجَ مِنْهَا ضَابِطًا شَابًّا يَتَحَلَّى بِالْانْضِبَاطِ وَالشَّجَاعَةِ، ثُمَّ بَدَأَتْ مُسِيرَتُهُ فِي مُوَاجَهَةِ الْإِرْهَابِ وَالتَّطَرُفِ.
                    </p>
                </div>
            </div>
        </section>

        <!-- خط زمني لحياة الشهيد -->
        <section class="timeline-section">
            <h2><i class="fas fa-history"></i> الخط الزمني لحياة الشهيد</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-year">1983</div>
                    <div class="timeline-content">
                        <h3>الميلاد</h3>
                        <p>وُلد الشهيد في محافظة القليوبية</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2005</div>
                    <div class="timeline-content">
                        <h3>التخرج من كلية الشرطة</h3>
                        <p>تخرج ضابطاً متحلياً بالانضباط والشجاعة</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2010</div>
                    <div class="timeline-content">
                        <h3>بداية المسيرة</h3>
                        <p>بدأ مسيرته في مواجهة الإرهاب والتطرف</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2013</div>
                    <div class="timeline-content">
                        <h3>الاستشهاد</h3>
                        <p>استشهد في 9 يونيو أثناء أداء واجبه</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- صفات البطل -->
        <section class="qualities-section">
            <h2><i class="fas fa-star"></i> صفات البطل الشهيد</h2>
            <div class="qualities-grid">
                <div class="quality-card">
                    <div class="quality-icon" style="background-color: #3B82F6;">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>الشجاعة والإقدام</h3>
                    <p>لم يعرف الخوف طريقاً إلى قلبه، وكان يتصدى للخطر دون تردد</p>
                </div>
                <div class="quality-card">
                    <div class="quality-icon" style="background-color: #10B981;">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>التواضع والإنسانية</h3>
                    <p>كان يساعد الأسر المحتاجة ويكفل الأيتام ويدخل البسمة على وجوههم</p>
                </div>
                <div class="quality-card">
                    <div class="quality-icon" style="background-color: #F59E0B;">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3>الكفاءة المهنية</h3>
                    <p>كان بارعاً في التخفي وتنفيذ المهام الخطيرة بدقة عالية</p>
                </div>
                <div class="quality-card">
                    <div class="quality-icon" style="background-color: #EF4444;">
                        <i class="fas fa-flag"></i>
                    </div>
                    <h3>حب الوطن والتضحية</h3>
                    <p>ضحى بحياته دفاعاً عن أمن الوطن واستقراره</p>
                </div>
            </div>
        </section>

        <!-- تمارين التفاعلية -->
        <section id="exercises" class="exercises-section">
            <h2><i class="fas fa-pen"></i> تمارين الدرس التفاعلية</h2>
            
            <!-- تمرين 1: معاني الكلمات -->
            <div class="exercise-card">
                <div class="exercise-header">
                    <h3>تمرين 1: معاني الكلمات</h3>
                    <span class="exercise-points">5 نقاط</span>
                </div>
                <p class="exercise-question">اختر المعنى الصحيح للكلمات التالية:</p>
                
                <div class="word-meaning-exercise">
                    <div class="word-item">
                        <div class="word">حَافِلٌ</div>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="word1" value="1">
                                <span>مملوء ومليء</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="word1" value="2">
                                <span>فارغ وخالٍ</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="word1" value="3">
                                <span>كبير وعظيم</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="word-item">
                        <div class="word">تَمَاذِجَ</div>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="word2" value="1">
                                <span>نماذج وأمثلة</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="word2" value="2">
                                <span>أشخاص عاديين</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="word2" value="3">
                                <span>أماكن وأوطان</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <button class="check-btn" onclick="checkWordExercise()">
                    <i class="fas fa-check"></i> تحقق من الإجابات
                </button>
                
                <div id="word-feedback" class="feedback hidden">
                    <!-- سيتم ملؤه بالجافاسكريبت -->
                </div>
            </div>

            <!-- تمرين 2: أسئلة الفهم -->
            <div class="exercise-card">
                <div class="exercise-header">
                    <h3>تمرين 2: أسئلة الفهم</h3>
                    <span class="exercise-points">10 نقاط</span>
                </div>
                
                <div class="comprehension-question">
                    <p>1. أين وُلد الشهيد محمد أبو شفرة؟</p>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q1" value="1">
                            <span>محافظة القاهرة</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="2">
                            <span>محافظة القليوبية</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="3">
                            <span>محافظة الإسكندرية</span>
                        </label>
                    </div>
                </div>
                
                <div class="comprehension-question">
                    <p>2. ما هي الصفة التي اشتهر بها الشهيد بين زملائه؟</p>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q2" value="1">
                            <span>الشبح</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="2">
                            <span>الأسد</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="3">
                            <span>الصقر</span>
                        </label>
                    </div>
                </div>
                
                <button class="check-btn" onclick="checkComprehensionExercise()">
                    <i class="fas fa-check"></i> تحقق من الإجابات
                </button>
                
                <div id="comprehension-feedback" class="feedback hidden"></div>
            </div>

            <!-- تمرين 3: سحب وإفلات الصفات -->
            <div class="exercise-card">
                <div class="exercise-header">
                    <h3>تمرين 3: صفات البطل</h3>
                    <span class="exercise-points">15 نقطة</span>
                </div>
                <p class="exercise-question">اسحب كل صفة إلى مكانها المناسب في وصف البطل:</p>
                
                <div class="drag-drop-exercise">
                    <div class="traits-container">
                        <div class="trait" draggable="true" data-trait="الشجاعة">الشجاعة</div>
                        <div class="trait" draggable="true" data-trait="التواضع">التواضع</div>
                        <div class="trait" draggable="true" data-trait="الكفاءة">الكفاءة</div>
                        <div class="trait" draggable="true" data-trait="التضحية">التضحية</div>
                    </div>
                    
                    <div class="hero-description">
                        <p>تميز الشهيد محمد أبو شفرة بعدة صفات منها:</p>
                        <div class="drop-zones">
                            <div class="drop-zone" data-trait="الشجاعة">
                                <span class="placeholder">... في المواجهة</span>
                            </div>
                            <div class="drop-zone" data-trait="التواضع">
                                <span class="placeholder">... مع الناس</span>
                            </div>
                            <div class="drop-zone" data-trait="الكفاءة">
                                <span class="placeholder">... في العمل</span>
                            </div>
                            <div class="drop-zone" data-trait="التضحية">
                                <span class="placeholder">... من أجل الوطن</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="check-btn" onclick="checkDragDropExercise()">
                    <i class="fas fa-check"></i> تحقق من الإجابات
                </button>
                
                <div id="dragdrop-feedback" class="feedback hidden"></div>
            </div>
        </section>

        <!-- اختبار الدرس -->
        <section id="test" class="test-section">
            <h2><i class="fas fa-clipboard-check"></i> اختبار الدرس الثاني</h2>
            <div class="test-info-card">
                <div class="test-stats">
                    <div class="stat">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h4>الوقت</h4>
                            <p>15 دقيقة</p>
                        </div>
                    </div>
                    <div class="stat">
                        <i class="fas fa-question-circle"></i>
                        <div>
                            <h4>عدد الأسئلة</h4>
                            <p>10 أسئلة</p>
                        </div>
                    </div>
                    <div class="stat">
                        <i class="fas fa-medal"></i>
                        <div>
                            <h4>الدرجة النهائية</h4>
                            <p>50 نقطة</p>
                        </div>
                    </div>
                </div>
                
                <div class="test-instructions">
                    <h4>تعليمات الاختبار:</h4>
                    <ul>
                        <li>يجب الإجابة على جميع الأسئلة</li>
                        <li>لكل سؤال إجابة واحدة صحيحة فقط</li>
                        <li>سيتم احتساب النتيجة فور إنهاء الاختبار</li>
                        <li>الحد الأدنى للنجاح هو 70%</li>
                    </ul>
                </div>
                
                <button class="btn" onclick="startLessonTest()">
                    <i class="fas fa-play"></i> ابدأ الاختبار الآن
                </button>
            </div>
        </section>

        <!-- خاتمة الدرس -->
        <section class="conclusion-section">
            <div class="conclusion-card">
                <h3><i class="fas fa-graduation-cap"></i> ما تعلمناه في هذا الدرس</h3>
                <ul>
                    <li>تعرفنا على سيرة الشهيد البطل محمد أبو شفرة</li>
                    <li>استخلصنا صفات البطولة والتضحية من حياته</li>
                    <li>فهمنا معاني الكلمات الجديدة في النص</li>
                    <li>تدربنا على أسئلة الفهم والتحليل</li>
                </ul>
                
                <div class="lesson-actions">
                    <button class="btn-outline" onclick="markLessonComplete()">
                        <i class="fas fa-check-circle"></i> ضع علامة كمكتمل
                    </button>
                    <button class="btn" onclick="goToNextLesson()">
                        <i class="fas fa-arrow-right"></i> انتقل إلى الدرس الثالث
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- التذييل -->
    <footer class="lesson-footer">
        <div class="footer-content">
            <p>الدرس الثاني من الوحدة الأولى - حماية الوطن</p>
            <p>الصف الثاني الإعدادي - تحت إشراف الأستاذة إسلام محمد</p>
            <p>© 2023 جميع الحقوق محفوظة</p>
        </div>
    </footer>

    <!-- ستايل خاص بصفحة الدرس -->
    <style>
        .lesson-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .lesson-header {
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid #E5E7EB;
        }
        
        .breadcrumb {
            color: #6B7280;
            margin-bottom: 1rem;
        }
        
        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .lesson-title {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .lesson-meta {
            display: flex;
            gap: 2rem;
            color: #6B7280;
        }
        
        .lesson-meta span {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .audio-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Cairo', sans-serif;
        }
        
        .text-container {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .hero-image {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .image-placeholder {
            background: linear-gradient(135deg, #E5E7EB, #9CA3AF);
            height: 300px;
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #6B7280;
        }
        
        .image-placeholder i {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        
        .arabic-text {
            line-height: 2;
            font-size: 1.2rem;
        }
        
        .text-paragraph {
            margin-bottom: 2rem;
            text-align: justify;
        }
        
        .highlight {
            background-color: rgba(59, 130, 246, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            border-right: 4px solid var(--primary-color);
        }
        
        .vocabulary-box {
            background-color: #F9FAFB;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
            border: 1px solid #E5E7EB;
        }
        
        .vocabulary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .vocab-item {
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
        }
        
        .vocab-example {
            font-size: 0.9rem;
            color: #6B7280;
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* الخط الزمني */
        .timeline {
            position: relative;
            max-width: 800px;
            margin: 2rem auto;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: var(--primary-color);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }
        
        .timeline-year {
            background-color: var(--primary-color);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            font-weight: bold;
            width: 120px;
            text-align: center;
            z-index: 1;
        }
        
        .timeline-content {
            background-color: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: calc(50% - 60px);
            margin: 0 1rem;
        }
        
        /* صفات البطل */
        .qualities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .quality-card {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
        }
        
        .quality-card:hover {
            transform: translateY(-5px);
        }
        
        .quality-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            color: white;
            font-size: 2rem;
        }
        
        /* التمارين */
        .exercise-card {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 2rem;
        }
        
        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #E5E7EB;
        }
        
        .exercise-points {
            background-color: var(--accent-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .exercise-question {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            color: var(--dark-color);
        }
        
        .word-meaning-exercise {
            margin-bottom: 1.5rem;
        }
        
        .word-item {
            background-color: #F9FAFB;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .word {
            background-color: var(--primary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: bold;
            min-width: 100px;
            text-align: center;
        }
        
        .options {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .option:hover {
            background-color: #E5E7EB;
        }
        
        .check-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 1rem;
            font-family: 'Cairo', sans-serif;
        }
        
        .check-btn:hover {
            background-color: #2D4FA8;
        }
        
        .feedback {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: var(--border-radius);
        }
        
        .feedback.correct {
            background-color: #D1FAE5;
            color: #065F46;
            border: 1px solid #10B981;
        }
        
        .feedback.incorrect {
            background-color: #FEE2E2;
            color: #991B1B;
            border: 1px solid #EF4444;
        }
        
        .hidden {
            display: none;
        }
        
        /* تمرين السحب والإفلات */
        .drag-drop-exercise {
            display: flex;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .traits-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .trait {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            cursor: grab;
            user-select: none;
            transition: var(--transition);
        }
        
        .trait:hover {
            background-color: #2D4FA8;
        }
        
        .trait.dragging {
            opacity: 0.5;
        }
        
        .hero-description {
            flex: 2;
            background-color: #F9FAFB;
            padding: 1.5rem;
            border-radius: var(--border-radius);
        }
        
        .drop-zones {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .drop-zone {
            background-color: white;
            border: 2px dashed #D1D5DB;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .drop-zone.over {
            border-color: var(--primary-color);
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        .drop-zone.filled {
            border-style: solid;
            background-color: #D1FAE5;
            border-color: #10B981;
        }
        
        .placeholder {
            color: #9CA3AF;
        }
        
        /* اختبار الدرس */
        .test-info-card {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-top: 1.5rem;
        }
        
        .test-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .stat i {
            font-size: 2rem;
            color: var(--primary-color);
        }
        
        .test-instructions {
            background-color: #F9FAFB;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }
        
        .test-instructions ul {
            list-style-position: inside;
            margin-top: 1rem;
        }
        
        .test-instructions li {
            margin-bottom: 0.5rem;
        }
        
        /* خاتمة الدرس */
        .conclusion-card {
            background: linear-gradient(135deg, var(--primary-color), #2D4FA8);
            color: white;
            padding: 3rem;
            border-radius: var(--border-radius);
            margin-top: 3rem;
        }
        
        .conclusion-card h3 {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .conclusion-card ul {
            list-style: none;
            margin-bottom: 2rem;
        }
        
        .conclusion-card li {
            margin-bottom: 0.75rem;
            padding-right: 1.5rem;
            position: relative;
        }
        
        .conclusion-card li::before {
            content: '✓';
            position: absolute;
            right: 0;
            font-weight: bold;
        }
        
        .lesson-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }
        
        /* التذييل */
        .lesson-footer {
            text-align: center;
            padding: 2rem;
            background-color: #F9FAFB;
            margin-top: 3rem;
            border-top: 1px solid #E5E7EB;
        }
        
        @media (max-width: 768px) {
            .lesson-title {
                font-size: 2rem;
            }
            
            .lesson-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .timeline::before {
                left: 30px;
            }
            
            .timeline-item {
                flex-direction: row !important;
            }
            
            .timeline-year {
                width: 60px;
                margin-left: 0;
            }
            
            .timeline-content {
                width: calc(100% - 90px);
            }
            
            .drag-drop-exercise {
                flex-direction: column;
            }
            
            .drop-zones {
                grid-template-columns: 1fr;
            }
            
            .lesson-actions {
                flex-direction: column;
            }
        }
    </style>

    <!-- جافاسكريبت خاص بالدرس -->
    <script>
        // تحديث تقدم الدرس
        function updateLessonProgress(progress) {
            const progressFill = document.getElementById('lesson-progress');
            const progressText = document.getElementById('progress-text');
            
            progressFill.style.width = `${progress}%`;
            progressText.textContent = `${progress}%`;
            
            // حفظ في التخزين المحلي
            localStorage.setItem('lesson2-progress', progress);
            
            // تحديث التقدم العام
            updateOverallProgress();
        }
        
        // تحديث التقدم العام
        function updateOverallProgress() {
            const lessonProgresses = [];
            
            // جمع تقدم جميع الدروس
            for (let i = 1; i <= 4; i++) {
                const progress = parseInt(localStorage.getItem(`lesson${i}-progress`) || '0');
                lessonProgresses.push(progress);
            }
            
            // حساب المتوسط
            const overallProgress = lessonProgresses.reduce((a, b) => a + b, 0) / lessonProgresses.length;
            localStorage.setItem('courseProgress', Math.round(overallProgress));
        }
        
        // تشغيل تسجيل النص الصوتي
        document.getElementById('play-audio').addEventListener('click', function() {
            const audioBtn = this;
            const icon = audioBtn.querySelector('i');
            
            if (audioBtn.classList.contains('playing')) {
                // إيقاف التشغيل
                audioBtn.classList.remove('playing');
                icon.className = 'fas fa-play';
                audioBtn.innerHTML = '<i class="fas fa-play"></i> استمع للنص';
                // هنا سيتم إيقاف الصوت في التطبيق الحقيقي
            } else {
                // بدء التشغيل
                audioBtn.classList.add('playing');
                icon.className = 'fas fa-pause';
                audioBtn.innerHTML = '<i class="fas fa-pause"></i> إيقاف مؤقت';
                // هنا سيتم تشغيل الصوت في التطبيق الحقيقي
                
                // محاكاة التقدم
                setTimeout(() => {
                    if (audioBtn.classList.contains('playing')) {
                        updateLessonProgress(60);
                        audioBtn.classList.remove('playing');
                        audioBtn.innerHTML = '<i class="fas fa-play"></i> استمع للنص مرة أخرى';
                    }
                }, 30000); // 30 ثانية
            }
        });
        
        // تمرين معاني الكلمات
        function checkWordExercise() {
            const answers = {
                word1: '1', // مملوء ومليء
                word2: '1'  // نماذج وأمثلة
            };
            
            let score = 0;
            let feedbackHTML = '<h4>نتيجة التمرين:</h4><ul>';
            
            // التحقق من الإجابات
            for (const [question, correctAnswer] of Object.entries(answers)) {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                
                if (selected && selected.value === correctAnswer) {
                    score++;
                    feedbackHTML += `<li>✅ ${question === 'word1' ? 'حَافِلٌ' : 'تَمَاذِجَ'}: إجابة صحيحة!</li>`;
                } else {
                    feedbackHTML += `<li>❌ ${question === 'word1' ? 'حَافِلٌ' : 'تَمَاذِجَ'}: الإجابة الصحيحة هي "${getWordCorrectAnswer(correctAnswer)}"</li>`;
                }
            }
            
            feedbackHTML += `</ul><p><strong>الدرجة: ${score}/2 (${(score/2*100).toFixed(0)}%)</strong></p>`;
            
            const feedbackDiv = document.getElementById('word-feedback');
            feedbackDiv.innerHTML = feedbackHTML;
            feedbackDiv.className = score === 2 ? 'feedback correct' : 'feedback incorrect';
            feedbackDiv.classList.remove('hidden');
            
            // تحديث التقدم إذا حصل على درجة كاملة
            if (score === 2) {
                updateLessonProgress(70);
            }
        }
        
        function getWordCorrectAnswer(value) {
            const answers = {
                '1': { word1: 'مملوء ومليء', word2: 'نماذج وأمثلة' },
                '2': { word1: 'فارغ وخالٍ', word2: 'أشخاص عاديين' },
                '3': { word1: 'كبير وعظيم', word2: 'أماكن وأوطان' }
            };
            return answers[value];
        }
        
        // تمرين أسئلة الفهم
        function checkComprehensionExercise() {
            const answers = {
                q1: '2', // محافظة القليوبية
                q2: '1'  // الشبح
            };
            
            let score = 0;
            let feedbackHTML = '<h4>نتيجة التمرين:</h4><ul>';
            
            for (const [question, correctAnswer] of Object.entries(answers)) {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                
                if (selected && selected.value === correctAnswer) {
                    score++;
                    feedbackHTML += `<li>✅ سؤال ${question === 'q1' ? '1' : '2'}: إجابة صحيحة!</li>`;
                } else {
                    const correctText = question === 'q1' ? 'محافظة القليوبية' : 'الشبح';
                    feedbackHTML += `<li>❌ سؤال ${question === 'q1' ? '1' : '2'}: الإجابة الصحيحة هي "${correctText}"</li>`;
                }
            }
            
            feedbackHTML += `</ul><p><strong>الدرجة: ${score}/2 (${(score/2*100).toFixed(0)}%)</strong></p>`;
            
            const feedbackDiv = document.getElementById('comprehension-feedback');
            feedbackDiv.innerHTML = feedbackHTML;
            feedbackDiv.className = score === 2 ? 'feedback correct' : 'feedback incorrect';
            feedbackDiv.classList.remove('hidden');
            
            // تحديث التقدم إذا حصل على درجة كاملة
            if (score === 2) {
                updateLessonProgress(80);
            }
        }
        
        // تمرين السحب والإفلات
        let draggedTrait = null;
        
        // إضافة أحداث السحب للمزايا
        document.querySelectorAll('.trait').forEach(trait => {
            trait.addEventListener('dragstart', function(e) {
                draggedTrait = this;
                this.classList.add('dragging');
                e.dataTransfer.setData('text/plain', this.dataset.trait);
            });
            
            trait.addEventListener('dragend', function() {
                this.classList.remove('dragging');
            });
        });
        
        // إضافة أحداث السحب للمناطق المستهدفة
        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('over');
            });
            
            zone.addEventListener('dragleave', function() {
                this.classList.remove('over');
            });
            
            zone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('over');
                
                const trait = e.dataTransfer.getData('text/plain');
                const expectedTrait = this.dataset.trait;
                
                if (trait === expectedTrait) {
                    this.innerHTML = trait;
                    this.classList.add('filled');
                    
                    // إزالة السمة من القائمة
                    if (draggedTrait) {
                        draggedTrait.style.display = 'none';
                    }
                } else {
                    this.innerHTML = `<span style="color: #EF4444;">❌ خطأ! حاول مرة أخرى</span>`;
                    setTimeout(() => {
                        this.innerHTML = '<span class="placeholder">... ' + 
                            (this.dataset.trait === 'الشجاعة' ? 'في المواجهة' : 
                             this.dataset.trait === 'التواضع' ? 'مع الناس' : 
                             this.dataset.trait === 'الكفاءة' ? 'في العمل' : 'من أجل الوطن') + 
                            '</span>';
                    }, 1000);
                }
            });
        });
        
        // التحقق من تمرين السحب والإفلات
        function checkDragDropExercise() {
            const dropZones = document.querySelectorAll('.drop-zone');
            let filledCount = 0;
            let correctCount = 0;
            
            dropZones.forEach(zone => {
                if (!zone.classList.contains('filled')) {
                    zone.innerHTML = '<span style="color: #EF4444;">❌ هذا المكان فارغ</span>';
                    setTimeout(() => {
                        zone.innerHTML = '<span class="placeholder">... ' + 
                            (zone.dataset.trait === 'الشجاعة' ? 'في المواجهة' : 
                             zone.dataset.trait === 'التواضع' ? 'مع الناس' : 
                             zone.dataset.trait === 'الكفاءة' ? 'في العمل' : 'من أجل الوطن') + 
                            '</span>';
                    }, 1500);
                } else {
                    filledCount++;
                    if (zone.textContent === zone.dataset.trait) {
                        correctCount++;
                        zone.style.backgroundColor = '#D1FAE5';
                        zone.style.borderColor = '#10B981';
                    }
                }
            });
            
            const feedbackDiv = document.getElementById('dragdrop-feedback');
            let feedbackHTML = '<h4>نتيجة التمرين:</h4>';
            
            if (filledCount === 4 && correctCount === 4) {
                feedbackHTML += '<p>✅ ممتاز! جميع الإجابات صحيحة</p>';
                feedbackDiv.className = 'feedback correct';
                updateLessonProgress(90);
            } else {
                feedbackHTML += `<p>❌ لديك ${4 - filledCount} أماكن فارغة و${4 - correctCount} إجابات خاطئة</p>`;
                feedbackDiv.className = 'feedback incorrect';
            }
            
            feedbackHTML += `<p><strong>الدرجة: ${correctCount}/4 (${(correctCount/4*100).toFixed(0)}%)</strong></p>`;
            
            feedbackDiv.innerHTML = feedbackHTML;
            feedbackDiv.classList.remove('hidden');
        }
        
        // بدء اختبار الدرس
        function startLessonTest() {
            if (confirm('هل أنت مستعد لبدء اختبار الدرس الثاني؟ سيبدأ المؤقت عند الضغط على موافق.')) {
                // حفظ وقت البدء
                const startTime = new Date().getTime();
                localStorage.setItem('test2-start-time', startTime);
                
                // في التطبيق الحقيقي، سيتم توجيه المستخدم إلى صفحة الاختبار
                alert('سيتم توجيهك إلى صفحة الاختبار الآن. لديك 15 دقيقة للإجابة على 10 أسئلة.');
                // window.location.href = 'lesson2-test.html';
            }
        }
        
        // وضع علامة على الدرس كمكتمل
        function markLessonComplete() {
            if (confirm('هل تريد وضع علامة على هذا الدرس كمكتمل؟')) {
                updateLessonProgress(100);
                alert('تم وضع علامة على الدرس كمكتمل! يمكنك الآن الانتقال إلى الدرس التالي.');
            }
        }
        
        // الانتقال إلى الدرس الثالث
        function goToNextLesson() {
            if (confirm('هل تريد الانتقال إلى الدرس الثالث: "حصن مصر المائي: السد العالي"؟')) {
                // في التطبيق الحقيقي
                // window.location.href = 'lesson3.html';
                alert('سيتم توجيهك إلى الدرس الثالث');
            }
        }
        
        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // تحميل تقدم الدرس من التخزين المحلي
            const savedProgress = localStorage.getItem('lesson2-progress') || '40';
            updateLessonProgress(parseInt(savedProgress));
            
            // إضافة تأثيرات للتمرين
            const options = document.querySelectorAll('.option input[type="radio"]');
            options.forEach(option => {
                option.addEventListener('change', function() {
                    const parent = this.closest('.option');
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.style.backgroundColor = '';
                    });
                    parent.style.backgroundColor = '#E5E7EB';
                });
            });
        });
    </script>
</body>
</html>